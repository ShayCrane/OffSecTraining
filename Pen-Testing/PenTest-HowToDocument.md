
## How to Document Pentesting



*Based on Offensive Security's Penetration Testing Role curriculum found at https://offsec.com.*



--------

### Structure of your documentation:

**Application Name**: 
This is important in a multi-application test, and a good habit to get into. The application name also lends itself to building a natural folder and file structure quite nicely.


**URL**: 
This is the exact URL that would be used to locate the vulnerability that we've detected.


**Request Type**:* 
This represents both the type of request (i.e: GET, POST, OPTIONS, etc) that was made, as well as any manual changes we made to it. For example, we might intercept a POST request message and change the username or password before forwarding it on.


**Issue Detail**: 
This is the overview of the vulnerability that will be triggered by our actions. For example, we may point to a CVE describing the vulnerability if one exists, and/or explain the impact we observe. We may categorize the impact as denial of service, remote code execution, privilege escalation, and so on.


**Proof of Concept Payload**: 
This is a string or code block that will trigger the vulnerability. This is the most important part of the note, as it is what will drive the issue home and allow it to be replicated. It should list all of the necessary preconditions, and provide the exact code or commands that would need to be used to perform the triggers the vulnerability again.


--------

### Best Practices:

While a comprehensive list of desirable properties to keep in mind is nearly impossible to enumerate, some of the more important items to remember are:

**Screenshots**: If a lot of screenshots are necessary, consider a tool that allows for inline screenshot insertion. Include a caption with your screenshots, but the caption is not meant to provide additional context for the picture. A caption is there to describe the picture in a few words. OffSec recommends Flameshot as a screenshot utility; I recommend Ksnip for linux.

**Code blocks**: Code blocks need formatting to be properly and quickly understood.

**Portability**: Something that can be used cross-OS, or easily transferred to another place should be high on the list of priorities.

**Directory Structure**: In an engagement with multiple domains or applications, keeping a coherent structure is necessary. While manually setting up a structure is allowed, a tool that can do this automatically makes things easier.

-----------

#### *Example: Testing for Cross-Site Scripting Vulnerabilities*

Testing Target: 192.168.1.52 </br>
Application:    XSSBlog </br>
Date Started:   March 15, 2023 </br>
PoC payload: `<script>alert(‘Your computer is infected!’)</script>`


1.  Navigated to the application //http://192.168.1.52/XSSBlog.html:
    - Result: Blog page displayed as expected

1.  Entered our standard XSS test data:
    - *You will rejoice to hear that no disaster has accompanied the
    commencement of an enterprise which you have regarded with such
    evil forebodings.`<script>alert("Your computer is infected!");</script>`
    I arrived here yesterday, and my first task is to assure my dear
    sister of my welfare and increasing confidence in the success of
    my undertaking.*

2.  Clicked Submit to post the blog entry.
    - Result: Blog entry appeared to save correctly.

3.  Navigated to read the blog post
    //http://192.168.1.52/XSSRead.php
    
    - Result: The blog started to display and then the expected alert popped up.

4.  Test indicated the site is vulnerable to XSS.




------------

Recommended note-taking programs:

Sublime https://www.sublimetext.com/download</br>
Cherry Tree <https://github.com/giuspen/cherrytree></br>
Obsidian <https://obsidian.md/></br>


-----------------


## How to Write Pentest Report
### Part 1: The Executive Summary, Structure: short and long form
</br>


**Short Form**

- Scope: `https://kali.org/login.php``
- Timeframe: Feb 3 - 5, 2023
- OWASP/PCI Testing methodology was used
- Social engineering and DoS testing were not in scope
- No testing accounts were given; testing was black box from an external IP address
- All tests were run from 192.168.1.2"</br></br>


**Long Form:**

**Include a few sentences describing the engagement:**

- The Client hired me to conduct a penetration test of their companysite.org web application in February of 2023.  The test was conducted from a remote IP between 9 a.m. and 5 p.m. with no users provided by Client.


**Then, a paragraph that talk about some of the effective hardening observed while testing:**

- The application had many forms of hardening in place.  First, [FIRST EXAMPLE OBSERVED AND HOW IT AFFECTED PENTEST ATTEMPTS].  I was also unable to [SECOND EXAMPLE].  Finally, the [EXAMPLE] policy made [EXAMPLE ATTACK ATTEMPTED] unlikely to succeed.  [Consider complimenting the client in this last sentence here.]


**Describe the vulnerability:**

- There were still areas of concern within the application.  I was able to [EXAMPLE ATTACK AND ITS AFFECT ON USERS, AVAIL, ETC].  Along with that, [OTHER EXAMPLE AND POTENTIAL AFFECTS OF VULN].  Then include a recommendation.

**Wrap it up:**

- The vulnerabilities and remediations are described in more detail below.  Please follow up if you have questions or would like further advice on the vulns on this list.

</br></br></br></br>
*End of Document.*
